(()=>{"use strict";var e,t={9083:(e,t,r)=>{var n=r(5893),o=(r(1652),r(1858),r(4237),r(7294)),i=r(3935),s=r(9704),a=r(4300),d=r(105),c=r(8527),l=r(6486),u=r.n(l);const p=()=>{const e=(0,d.mq)("DragBar");return(0,n.jsx)(c.xu,{__css:e},void 0)},h=()=>{const e=(0,d.mq)("DragHandle");return(0,n.jsx)(c.xu,Object.assign({className:"drag-handle",__css:e},{children:(0,n.jsx)(p,{},void 0)}),void 0)},f=e=>{const{children:t,leftPaneCollapsed:r,leftPaneInitialWidth:i,leftPaneMinWidth:s,leftPaneMaxWidth:a,rightPaneCollapsed:u,rightPaneInitialWidth:p,rightPaneMinWidth:f,rightPaneMaxWidth:g}=e,y=(0,o.useRef)(null),v=(0,d.mq)("Dashboard"),[x,b]=(0,o.useState)(0),[w,j]=(0,o.useState)(!1),[O,S]=(0,o.useState)(i),[C,P]=(0,o.useState)(0),[D,E]=(0,o.useState)(!1),[I,k]=(0,o.useState)(p),M=(0,o.useMemo)((()=>r?-O:0),[r,O]),V=(0,o.useMemo)((()=>r?0:O),[r,O]),A=(0,o.useMemo)((()=>u?0:I),[u,I]),$=(0,o.useMemo)((()=>u?-I:0),[u,I]),_=(0,o.useMemo)((()=>m(O,M,void 0,w)),[O,M,w]),L=(0,o.useMemo)((()=>m(void 0,V,A,w||D)),[V,A,w,D]),W=(0,o.useMemo)((()=>m(I,void 0,$,D)),[I,$,D]),B=(0,o.useMemo)((()=>m(void 0,M+O,void 0,w)),[M,O,w]),R=(0,o.useMemo)((()=>m(void 0,void 0,$+I,D)),[$,I,D]),q=(0,o.useCallback)(((e,t)=>{const r=t.target.getBoundingClientRect(),n=t.clientX-r.left;switch(e){case"left":b(n),j(!0);break;case"right":P(n),E(!0)}}),[j,E]),T=(0,o.useCallback)((0,l.throttle)((e=>{var t,r;if(w){null===(t=window.getSelection())||void 0===t||t.empty();const r=e.clientX-x+5;S((0,l.clamp)(r,s,a))}if(D){const t=y.current;if(t){null===(r=window.getSelection())||void 0===r||r.empty();const n=t.getBoundingClientRect().width-e.clientX+C-5;k((0,l.clamp)(n,f,g))}}}),16),[x,C,w,D,s,f,a,g]),N=(0,o.useCallback)((()=>{j(!1),E(!1)}),[j,E]);(0,o.useEffect)((()=>(document.addEventListener("mousemove",T),document.addEventListener("mouseup",N),()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",N)})),[T,N]);const H=o.Children.toArray(t).filter((e=>e));return 3===H.length?(0,n.jsxs)(c.xu,Object.assign({ref:y,__css:v},{children:[(0,n.jsx)("div",Object.assign({style:_},{children:H[0]}),void 0),(0,n.jsx)("div",Object.assign({style:L},{children:H[1]}),void 0),(0,n.jsx)("div",Object.assign({style:W},{children:H[2]}),void 0),(0,n.jsx)("div",Object.assign({style:B,onMouseDown:e=>q("left",e)},{children:(0,n.jsx)(h,{},void 0)}),void 0),(0,n.jsx)("div",Object.assign({style:R,onMouseDown:e=>q("right",e)},{children:(0,n.jsx)(h,{},void 0)}),void 0)]}),void 0):null},g={baseStyle:{position:"fixed",top:"30px",right:"30px",bottom:"20px",left:"0"}};function m(e,t,r,n){const o={position:"absolute",top:"0",bottom:"0",transition:n?void 0:"all 200ms cubic-bezier(0.85, 0, 0.15, 1)"};return void 0!==e&&(o.width=`${e}px`),void 0!==t&&(o.left=`${t}px`),void 0!==r&&(o.right=`${r}px`),o}const y=e=>{const t=(0,d.mq)("Pane");return(0,n.jsx)(c.xu,Object.assign({__css:t},e),void 0)},v=e=>{const t=(0,d.mq)("LogList",e);return(0,n.jsx)(c.rj,Object.assign({__css:t},e),void 0)};const x=e=>{const{variant:t}=e,r=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["variant"]),o=(0,d.mq)("LogText",{variant:t});return(0,n.jsx)(c.xu,Object.assign({as:"p",__css:o},r,{isTruncated:!0}),void 0)},b=e=>{const t=(0,d.mq)("Logo");return(0,n.jsx)(c.M5,Object.assign({__css:t},e,{children:"Sterling"}),void 0)},w=e=>{const t=(0,d.mq)("NavBar");return(0,n.jsx)(c.kC,Object.assign({__css:t},e),void 0)},j={baseStyle:{h:"30px",position:"fixed",top:0,left:0,right:0,display:"flex",alignItems:"stretch",p:2,bg:"gray.600"}},O=e=>{const t=(0,d.mq)("PaneHeader");return(0,n.jsx)(c.xu,Object.assign({__css:t},e),void 0)},S=e=>{const t=(0,d.mq)("PaneTitle");return(0,n.jsx)(c.xu,Object.assign({__css:t},e),void 0)},C=e=>{const t=(0,d.mq)("SideBar");return(0,n.jsx)(c.kC,Object.assign({__css:t},e),void 0)},P={baseStyle:{w:"30px",position:"fixed",top:"30px",right:0,bottom:"20px",display:"flex",flexDir:"column",alignItems:"stretch",fontSize:"xs",borderLeft:"1px",borderColor:"gray.300",bg:"gray.100"}};var D=r(8921);const E=e=>{const{text:t}=e,r=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["text"]),o=(0,d.mq)("SideBarButton");return(0,n.jsx)(D.zx,Object.assign({as:"div",__css:o,iconSpacing:"0.35rem"},r,{children:(0,n.jsx)(c.xv,Object.assign({as:"div",display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none",cursor:"pointer"},{children:t}),void 0)}),void 0)},I=e=>{const t=(0,d.mq)("StatusBar");return(0,n.jsx)(c.kC,Object.assign({__css:t},e),void 0)},k={baseStyle:{h:"20px",position:"fixed",right:0,bottom:0,left:0,display:"flex",alignItems:"center",px:2,fontSize:"xs",borderTop:"1px",borderColor:"gray.300",bg:"gray.100"}},M=e=>{const t=(0,d.mq)("View");return(0,n.jsx)(c.xu,Object.assign({__css:t},e),void 0)},V=(0,a.B1C)({fonts:{body:"InterVariable",mono:"Fira Code VF, Fira Code, monospace"},styles:{global:{"html, body, #root":{w:"full",h:"full",overflow:"hidden",userSelect:"none",cursor:"default"}}},components:{Dashboard:g,DragBar:{baseStyle:{w:"1px",h:"full",transition:"all ease 0.25s",backgroundColor:"gray.300",".drag-handle:hover &":{backgroundColor:"gray.500"}}},DragHandle:{baseStyle:{w:"10px",h:"full",mx:"-5px",px:"5px",cursor:"col-resize",boxSizing:"border-box",backgroundColor:"transparent"}},Logo:{baseStyle:{p:1,fontWeight:"bold",fontSize:"sm",letterSpacing:"wide",color:"gray.50",lineHeight:"0"}},LogList:{baseStyle:{display:"grid",backgroundColor:"gray.50",gridTemplateColumns:"fit-content(300px) 1fr",gridColumnGap:"0.35rem",gridAutoRows:"min-content",userSelect:"text"}},LogText:{baseStyle:{fontFamily:"mono",fontSize:"xs"},variants:{message:{color:"gray.900"},warning:{color:"yellow.400",fontWeight:"semibold"},error:{color:"red.500",fontWeight:"semibold"},timestamp:{display:"flex",alignItems:"center",color:"gray.500"}},defaultProps:{variant:"message"}},NavBar:j,NavButton:{baseStyle:{display:"flex",alignItems:"center",borderRadius:"sm",px:4,lineHeight:1.2,fontSize:"sm",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_hover:{bg:"gray.100",_disabled:{bg:"initial"}},_active:{bg:"gray.200"},_disabled:{opacity:.4,cursor:"not-allowed"}}},Pane:{baseStyle:{position:"absolute",top:0,right:0,bottom:0,left:0}},PaneHeader:{baseStyle:{height:"30px",bg:"gray.100",display:"flex",alignItems:"center"}},PaneTitle:{baseStyle:{px:2,fontSize:"xs",fontWeight:"semibold",color:"gray.800"}},SideBar:P,SideBarButton:{baseStyle:{display:"flex",cursor:"pointer",alignItems:"center",justifyContent:"center",py:3,fontSize:"xs",fontWeight:"normal",transitionProperty:"common",transitionDuration:"normal",writingMode:"vertical-lr",textOrientation:"sideways",iconSpacing:"0.35rem",span:{marginRight:".12rem"},_hover:{bg:"gray.200",_disabled:{bg:"initial"}},_active:{bg:"gray.300"}}},StatusBar:k,View:{baseStyle:{w:"full",h:"full"}}}});var A=r(9876),$=r(1384);const _=e=>{const{text:t,variant:r,time:o}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(x,Object.assign({variant:"timestamp",justifySelf:"end"},{children:[o?(0,$.Z)(o,"HH:mm:ss"):"--:--:--",(0,n.jsx)(A.XC,{},void 0)]}),void 0),(0,n.jsx)(x,Object.assign({variant:r},{children:t}),void 0)]},void 0)};function L(e,t){return t in e.edges}function W(e,t){return t in e.nodes}var B=r(8172);function R(e,t){return e.nodes[t]}function q(e,t){return t?t.map((t=>R(e,t))):(0,l.values)(e.nodes)}function T(e,t){return t?t.map((t=>function(e,t){return e.edges[t]}(e,t))):(0,l.values)(e.edges)}function N(e,t){return t=t||[],function(e,t){return(0,B.ZP)(e,(e=>{t.forEach((t=>function(e,t){const{id:r,source:n,target:o}=t;if(r&&(i=e,s=[n,o],(0,l.every)(s,(e=>W(i,e))))&&!L(e,r))e.edges[r]=t,function(e,t,r,n){e.predecessors.hasOwnProperty(r)||(e.predecessors[r]={}),e.predecessors[r].hasOwnProperty(t)||(e.predecessors[r][t]=[]),e.predecessors[r][t].push(n)}(e,n,o,r),function(e,t,r,n){e.successors.hasOwnProperty(t)||(e.successors[t]={}),e.successors[t].hasOwnProperty(r)||(e.successors[t][r]=[]),e.successors[t][r].push(n)}(e,n,o,r),function(e,t,r){e.inedges[t].push(r)}(e,o,r),function(e,t,r){e.outedges[t].push(r)}(e,n,r);else{if(!r)throw new Error("Cannot add an edge without an edge ID");if(!W(e,n))throw new Error(`Cannot add edge ${r}, the source node ${n} is not in the graph`);if(!W(e,o))throw new Error(`Cannot add edge ${r}, the target node ${o} is not in the graph`);if(L(e,r))throw new Error(`Cannot add edge, an edge with ID ${r} already exists in the graph`)}var i,s}(e,(0,B.cA)(t))))}))}(function(e,t){return(0,B.ZP)(e,(e=>{t.forEach((t=>function(e,t){const{id:r}=t;if(r&&!W(e,r))e.nodes[r]=t,e.predecessors[r]={},e.successors[r]={},e.inedges[r]=[],e.outedges[r]=[];else{if(!r)throw new Error("Cannot add a node without a node ID");if(W(e,r))throw new Error(`Cannot add node, a node with ID ${r} already exists in the graph`)}}(e,(0,B.cA)(t))))}))}({nodes:{},edges:{},predecessors:{},successors:{},inedges:{},outedges:{}},e=e||[]),t)}function H(e,t){return`arrow-${e}-[${t}]`}const F=(0,o.memo)((e=>{const{size:t,color:r}=e,o=H(t,r),i=t/2;return(0,n.jsx)("marker",Object.assign({id:o,viewBox:`0 0 ${t} ${t}`,refX:0,refY:i,markerWidth:t,markerHeight:t,markerUnits:"userSpaceOnUse",orient:"auto",fill:r},{children:(0,n.jsx)("path",{d:`M 0 0 L ${t} ${i} L 0 ${t} z`},void 0)}),void 0)})),z=e=>{const{arrowHeads:t}=e;return(0,n.jsx)("defs",{children:t.map(((e,t)=>(0,n.jsx)(F,Object.assign({},e),t)))},void 0)},Z=e=>(0,n.jsx)("text",Object.assign({x:e.x,y:e.y,style:e.style},e.props,{children:e.text}),void 0),G=e=>{const{label:t,position:r}=e;return t.length!==r.length?null:(0,n.jsx)(n.Fragment,{children:t.map(((e,t)=>{const{x:o,y:i}=r[t];return(0,n.jsx)(Z,Object.assign({x:o,y:i},e),t)}))},void 0)};var J=r(7485);const X=(0,o.createContext)({spreadMatrix:(0,J.yR)()}),U=()=>(0,o.useContext)(X),Y=({children:e,spread:t})=>{const r=(e=>{const[t,r]=(0,o.useState)(e||(0,J.yR)());return{spreadMatrix:t}})(t);return(0,n.jsx)(X.Provider,Object.assign({value:r},{children:e}),void 0)};var K=r(236),Q=r(8990),ee=r(7470),te=r(5908),re=r(4681),ne=r(5925),oe=r(9786),ie=r(7185),se=r(4643);const ae=e=>{const{path:t,curve:r,style:i,onRender:s}=e,{spreadMatrix:a}=U(),d=(0,o.useRef)(null),c=(0,o.useRef)(null),l=(0,o.useMemo)((()=>t.map((e=>(0,J.hC)(a,e)))),[t,a]),u=(0,o.useMemo)((()=>function(e){const t=(0,K.Z)().x((e=>e.x)).y((e=>e.y));switch(null==e?void 0:e.type){case"bspline":t.curve(Q.ZP);break;case"bundle":t.curve(ee.Z.beta(.85));break;case"cardinal":t.curve(te.ZP.tension(0));break;case"catmullrom":t.curve(re.Z.alpha(.5));break;case"line":default:t.curve(ne.Z);break;case"monotonex":t.curve(oe.Z);break;case"monotoney":t.curve(oe.s);break;case"natural":t.curve(ie.Z);break;case"step":t.curve(se.ZP);break;case"stepafter":t.curve(se.cD);break;case"stepbefore":t.curve(se.RN)}return t}(r)),[r]),p=(0,o.useMemo)((()=>u(l)||""),[u,l]),h=`url(#${H(10,i.stroke)})`;return(0,o.useLayoutEffect)((()=>{const e=d.current,t=c.current;if(e&&t){const r=e.getTotalLength(),n=e.getPointAtLength(r-10);t.setAttribute("d",u([...l.slice(0,-1),n])||"")}s&&d.current&&s(d.current)}),[s]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{ref:c,style:i,markerEnd:h},void 0),(0,n.jsx)("path",{ref:d,d:p,stroke:"transparent",strokeWidth:11,fill:"none"},void 0)]},void 0)},de=e=>{const{id:t,path:r,curve:i,style:s,labels:a}=e,[d,c]=(0,o.useState)([]),u=(0,o.useCallback)((e=>{a&&c(a.map((t=>function(e,t){const r=t.getTotalLength();if(void 0===e.position)return t.getPointAtLength(r/2);if("number"==typeof e.position){const n=(0,l.clamp)(e.position,0,1);return t.getPointAtLength(n*r)}const n=(0,l.clamp)(e.position.distance,0,r);return"source"===e.position.from?t.getPointAtLength(n):t.getPointAtLength(r-n)}(t,e))))}),[c,a]);return(0,n.jsxs)("g",Object.assign({id:`${t}`},{children:[(0,n.jsx)(ae,{path:r,curve:i,style:s,onRender:u},void 0),a&&(0,n.jsx)(G,{label:a,position:d},void 0)]}),void 0)},ce=(0,o.memo)((e=>{const{edges:t}=e;return(0,n.jsx)("g",Object.assign({className:"edges"},{children:t.map((e=>(0,n.jsx)(de,Object.assign({},e),e.id)))}),void 0)}));const le=e=>{const{label:t}=e;return(0,n.jsx)(n.Fragment,{children:t.map(((e,t)=>{const{offset:r}=e,o=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["offset"]);return(0,n.jsx)(Z,Object.assign({x:(null==r?void 0:r.x)||0,y:(null==r?void 0:r.y)||0},o),t)}))},void 0)},ue=(0,o.memo)((e=>{const{shape:t,style:r}=e;return(0,n.jsx)("circle",{r:t.radius,style:r},void 0)})),pe=(0,o.memo)((e=>{const{shape:t,style:r}=e;return(0,n.jsx)("rect",{x:-t.width/2,y:-t.height/2,width:t.width,height:t.height,style:r},void 0)})),he=(0,o.memo)((e=>{const{shape:t,style:r}=e;switch(t.shape){case"circle":return(0,n.jsx)(ue,{shape:t,style:r},void 0);case"rectangle":return(0,n.jsx)(pe,{shape:t,style:r},void 0)}return null})),fe=e=>{const{id:t,position:r,shape:i,style:s,labels:a}=e,{spreadMatrix:d}=U(),c=(0,o.useMemo)((()=>{const e=(0,J.hC)(d,r);return`translate(${e.x} ${e.y})`}),[r]);return(0,n.jsxs)("g",Object.assign({id:t,transform:c},{children:[(0,n.jsx)(he,{shape:i,style:s},void 0),a&&(0,n.jsx)(le,{label:a},void 0)]}),void 0)},ge=(0,o.memo)((e=>{const{nodes:t}=e;return(0,n.jsx)("g",Object.assign({className:"nodes"},{children:t.map((e=>(0,n.jsx)(fe,Object.assign({},e),e.id)))}),void 0)}));function me(e){return Math.atan2(-e.y,-e.x)+Math.PI}function ye(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ve(e,t,r){return{x:e.x+r*Math.cos(t),y:e.y+r*Math.sin(t)}}function xe(e,t){return{a:e,b:t}}function be(e,t){const r=e.a,n=e.b,o=t.a,i=t.b,s=((i.x-o.x)*(r.y-o.y)-(i.y-o.y)*(r.x-o.x))/((i.y-o.y)*(n.x-r.x)-(i.x-o.x)*(n.y-r.y));return{x:r.x+s*(n.x-r.x),y:r.y+s*(n.y-r.y)}}function we(e,t,r,n){switch(t.shape){case"circle":return function(e,t,r,n){return ve(e,me(r),t+n/2)}(e,t.radius,r,n);case"rectangle":return function(e,t,r,n,o){const i=t+o,s=r+o,a=i/2,d=s/2,c=ve(e,me(n),Math.max(i,s)),l=xe(e,c),u=((p=l).a.y-p.b.y)/(p.a.x-p.b.x);var p;const h=u*a,f=d/u,g={x:e.x+a,y:e.y+d},m={x:e.x-a,y:e.y+d},y={x:e.x+a,y:e.y-d},v={x:e.x-a,y:e.y-d};if(-d<=h&&h<=d){if(e.x<c.x)return be(xe(g,y),l);if(e.x>c.x)return be(xe(m,v),l)}if(-a<=f&&f<=a){if(e.y<c.y)return be(xe(m,g),l);if(e.y>c.y)return be(xe(v,y),l)}return e}(e,t.width,t.height,r,n)}return e}function je(e){return void 0!==e}const Oe=e=>{const{id:t,graph:r,edgeCurves:o,edgeStyles:i,edgeLabels:s,nodeShapes:a,nodeStyles:d,nodeLabels:c,targetSpread:u}=e,p=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["id","graph","edgeCurves","edgeStyles","edgeLabels","nodeShapes","nodeStyles","nodeLabels","targetSpread"]),h=q(r).map((e=>{const t={x:e.x,y:e.y},r=a[e.id],n=d[e.id],o=c?c[e.id]:void 0;return{id:e.id,position:t,shape:r,style:n,labels:o}})),f=T(r).map((e=>{const t=R(r,e.source),n=R(r,e.target);if(!t||!n)return;const d=function(e,t,r,n,o){const i=e.waypoints||[],s=we(t,r,ye((0,l.defaultTo)(i[0],n),t),0),a=we(n,o,ye((0,l.defaultTo)(i[i.length-1],t),n),0);return[s,...i,a]}(e,t,a[t.id],n,a[n.id]),c=o[e.id],u=i[e.id],p=s?s[e.id]:void 0;return{id:e.id,path:d,curve:c,style:u,labels:p}})).filter(je),g=function(e){const t=new Set,r=[];return e.forEach((e=>{const n=e.stroke,o=H(10,n);t.has(o)||(t.add(o),r.push({size:10,color:n}))})),r}(Object.values(i));return(0,n.jsx)(Y,Object.assign({spread:u},{children:(0,n.jsxs)("g",Object.assign({id:t},p,{children:[(0,n.jsx)(z,{arrowHeads:g},void 0),(0,n.jsx)(ge,{nodes:h},void 0),(0,n.jsx)(ce,{edges:f},void 0)]}),void 0)}),void 0)};const Se=e=>{const{children:t}=e,r=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["children"]),i=(0,o.useRef)(null),s=(e=>{const[t,r]=(0,o.useState)();return(0,o.useLayoutEffect)((()=>{const t=e.current;if(t){r(t.getBoundingClientRect());const e=new ResizeObserver((e=>{e.forEach((e=>{e.target===t&&r(e.contentRect)}))}));return e.observe(t),()=>{e.unobserve(t)}}}),[e]),t})(i),a=(0,o.useMemo)((()=>null==s?void 0:s.width),[s]),d=(0,o.useMemo)((()=>null==s?void 0:s.height),[s]),c=(0,o.useMemo)((()=>a&&d?`${-a/2} ${-d/2} ${a} ${d}`:void 0),[a,d]);return(0,n.jsx)("div",Object.assign({ref:i},r,{children:(0,n.jsx)("svg",Object.assign({viewBox:c,preserveAspectRatio:"xMidYMid slice"},{children:t}),void 0)}),void 0)},Ce={type:"bspline"},Pe={stroke:"#4A5568",strokeWidth:1,fill:"none"},De={style:{fill:"#4A5568",fontFamily:"monospace",fontSize:"10px",textAnchor:"middle",userSelect:"none",cursor:"pointer"},props:{dy:"0.4em"}},Ee={shape:"circle",radius:10},Ie={stroke:"#4A5568",strokeWidth:1,fill:"white",cursor:"pointer"},ke={style:{fontFamily:"monospace",fontSize:"10px",textAnchor:"middle",userSelect:"none",cursor:"pointer"},props:{dy:"0.4em"}},Me=e=>{const{numStates:t,loopBack:r,selectedIndices:o,onSelectedIndicesDidChange:i}=e,s=function(e,t){const r=[],n=[],o=-50*(e-1)/2;for(let i=0;i<e;++i)if(r.push({id:`${i}`,x:o+50*i,y:5}),i<e-1)n.push({id:`${i}->${i+1}`,source:`${i}`,target:`${i+1}`});else{const e=`${i}->${t}`,r=o+50*t;n.push({id:e,source:`${i}`,target:`${t}`,waypoints:[{x:o+50*i-15,y:-15},{x:r+15,y:-15}]})}return N(r,n)}(t,r),a=function(e){const t={};return q(e).forEach((e=>{t[e.id]=Ee})),t}(s),d=function(e){const t={};return q(e).forEach((e=>{t[e.id]=Ie})),t}(s),c=function(e,t){const r={};return q(e).forEach((e=>{r[e.id]=t.includes(+e.id)?[Object.assign({text:e.id},ke)]:[Object.assign({text:e.id},De)]})),r}(s,o),l=function(e){const t={};return T(e).forEach((e=>{t[e.id]=Ce})),t}(s),u=function(e){const t={};return T(e).forEach((e=>{t[e.id]=Pe})),t}(s);return(0,n.jsx)(Se,Object.assign({style:{height:"100%"}},{children:(0,n.jsx)(Oe,{graph:s,id:"minimap",nodeShapes:a,nodeStyles:d,nodeLabels:c,edgeCurves:l,edgeStyles:u},void 0)}),void 0)};var Ve=r(4183);const Ae=(0,Ve.PH)("sterling/buttonClicked"),$e=(0,Ve.PH)("sterling/dataRequested"),_e=(0,Ve.PH)("sterling/evalRequested"),Le=(0,Ve.PH)("sterling/metaRequested"),We=(0,Ve.PH)("sterling/dataReceived"),Be=(0,Ve.PH)("sterling/evalReceived"),Re=(0,Ve.PH)("sterling/metaReceived"),qe=(0,Ve.PH)("sterling/connect"),Te=(0,Ve.PH)("sterling/disconnect"),Ne=(0,Ve.PH)("sterling/connected"),He=(0,Ve.PH)("sterling/connectionError"),Fe=(0,Ve.PH)("sterling/disconnected"),ze=(0,Ve.PH)("sterling/error");function Ze(e,t){const r=t.getAttribute("label");if(!r)throw new Error("No label attribute in atom element");return{_:"atom",id:r,type:e}}function Ge(e,t){return Array.from(t).map((t=>Ze(e,t)))}function Je(e,t,r){return"string"==typeof t&&(t=et(e,t)),"string"!=typeof r&&(r=r.id),Xe(e,t).types.includes(r)}function Xe(e,t){if("string"==typeof t&&(t=et(e,t)),!e.types[t.type])throw new Error(`The atom's type is not part of the instance: ${t.type}`);return e.types[t.type]}function Ue(e,t){return Array.from(t).map((t=>function(e,t){return{_:"tuple",types:e,atoms:Array.from(t.querySelectorAll("atom")).map(((t,r)=>Ze(e[r],t).id))}}(e,t)))}function Ye(e,t){const r={};for(const n of e)r[t(n)]=n;return r}function Ke(e){return e.atoms}function Qe(e,t,r){return"string"==typeof t&&(t=rt(e,t)),"string"!=typeof r&&(r=r.id),t.types.includes(r)}function et(e,t){const r=tt(e).find((e=>e.id===t));if(!r)throw new Error(`Could not find atom with id ${t}`);return r}function tt(e){return function(e){return Object.values(e.types)}(e).map(Ke).reduce(((e,t)=>e.concat(t)),[])}function rt(e,t){const r=e.types[t];if(!r)throw new Error(`Could not find type with id ${t}`);return r}function nt(e){const t=e.getAttribute("command"),r=e.getAttribute("bitwidth");if(!t)throw new Error("No command found in instance");if(!r)throw new Error("No bitwidth found in instance");const n=function(e){const t={},r=e.querySelectorAll("sig");for(const e of r){const r=e.getAttribute("ID"),n=e.getAttribute("label");if(!r)throw new Error("No ID found for sig element");if(!n)throw new Error("No label found for sig element");t[r]=n}return t}(e),o=function(e,t){const r={},n=t.querySelectorAll("sig");for(const e of n)if(!it(e)){const t=e.getAttribute("ID"),n=e.getAttribute("parentID"),o=e.getAttribute("label");if(!t)throw new Error("No ID found for sig element");if(!o)throw new Error("No label found for sig element");n&&(r[t]=n)}const o=(t,n)=>r[t]?o(r[t],[...n,e[t]]):n,i={};for(const t in e)i[e[t]]=o(t,[]);return i}(n,e),i=function(e,t){return Array.from(t).filter((e=>!it(e))).map((t=>function(e,t){const r=t.getAttribute("label");if(!r)throw new Error("No label attribute in sig element");const n=e[r];if(!n)throw console.log(e),new Error(`No type hierarchy for ${r}`);const o=function(e){const t={};return"yes"===e.getAttribute("abstract")&&(t.abstract=!0),"yes"===e.getAttribute("builtin")&&(t.builtin=!0),"yes"===e.getAttribute("enum")&&(t.enum=!0),"yes"===e.getAttribute("meta")&&(t.meta=!0),"yes"===e.getAttribute("one")&&(t.one=!0),"yes"===e.getAttribute("private")&&(t.private=!0),0===Object.keys(t).length?void 0:t}(t),i={_:"type",id:r,types:n,atoms:Ge(r,t.querySelectorAll("atom")),meta:void 0};return void 0!==o&&(i.meta=o),i}(e,t)))}(o,e.querySelectorAll("sig")),s=function(e,t){return Array.from(t).map((t=>function(e,t){const r=t.getAttribute("label");if(!r)throw new Error("No label found for field element");const n=function(e,t){const r=t.querySelectorAll("type");return Array.from(r).map((t=>{const r=t.getAttribute("ID");if(!r)throw new Error("Type element must have an ID attribute");const n=e[r];if(!n)throw new Error(`Type element with ID ${r} not found`);return n}))}(e,t);if(0===n.length)throw new Error("No types found for field element");return{_:"relation",id:`${n[0]}<:${r}`,name:r,types:n,tuples:Ue(n,t.querySelectorAll("tuple"))}}(e,t)))}(n,e.querySelectorAll("field"));return function(e,t){const r=t.find((e=>"Int"===e.id));if(!r)throw new Error("Could not find Int type");r.atoms=function(e){const t=[],r=Math.pow(2,e);for(let e=-r/2;e<r/2;++e)t.push({_:"atom",id:e.toString(),type:"Int"});return t}(e)}(parseInt(r),i),{command:t,types:Ye(i,(e=>e.id)),relations:Ye(s,(e=>e.id))}}function ot(e){const t=(new DOMParser).parseFromString(e,"application/xml"),r=Array.from(t.querySelectorAll("instance"));if(!r.length)throw new Error("No instance in trace.");const n=r[0].getAttribute("backloop");if(!n)throw new Error("Trace has no backloop attribute");return{instances:r.map(nt),loopBack:+n}}function it(e){return e.querySelectorAll("type").length>0}function st(e,t){const r=function(e){return JSON.parse(e)}(e);!function(e){return"data"===e.type&&void 0!==e.payload}(r)?function(e){return"eval"===e.type&&void 0!==e.payload}(r)?t.dispatch(Be(r.payload)):function(e){return"meta"===e.type&&void 0!==e.payload}(r)&&t.dispatch(Re(r.payload)):t.dispatch(We(function(e,t){const{enter:r,update:n,exit:o}=e,i=function(e,t){const r=[];return e&&e.forEach((e=>{!function(e){return"alloy"===e.format}(e)?t.dispatch(ze(`Unsupported data format in datum ${e.id}: ${e.format}`)):r.push(e)})),r}(r,t);return{enter:i.map((e=>{if("alloy"===e.format)return function(e){return Object.assign(Object.assign({},e),{parsed:ot(e.data)})}(e);throw new Error("Unsupported format fell through unexpectedly.")})),update:n,exit:o}}(r.payload,t)))}function at(e){e.dispatch(ze("Not connected to a provider."))}function dt(e,t){e.send(JSON.stringify(t))}const ct=()=>(0,s.I0)(),lt=s.v9,ut=(0,Ve.oM)({name:"data",initialState:{activeDatumIds:[],datumById:{},datumIds:[]},reducers:{dataSelected(e,t){e.activeDatumIds=t.payload}},extraReducers:e=>{e.addCase(We,((e,t)=>{const{enter:r,update:n,exit:o}=t.payload;r&&(r.forEach((t=>{const r=t.id;e.datumById[r]||(e.datumById[r]=t)})),e.datumIds.push(...r.map((e=>e.id))),e.activeDatumIds=[e.datumIds[e.datumIds.length-1]]),n&&n.forEach((t=>{const r=t.id;e.datumById[r]&&Object.assign(e.datumById[r],t)})),o&&o.forEach((t=>{e.datumById[t]&&delete e.datumById[t]}))}))}}),{dataSelected:pt}=ut.actions,ht=ut.reducer;var ft=r(681),gt=r.n(ft);function mt(e,t){const r={},n=Object.keys(t);for(const t in e.types){const o=e.types[t],i=n.some((t=>Qe(e,o,t)));r[t]={_:"type",id:o.id,types:o.types,atoms:i?[]:o.atoms,meta:o.meta}}return r}function yt(e,t){const r={},n=Object.keys(t),o=Object.values(t);for(const t in e.relations){const i=e.relations[t],s=i.types.some((t=>n.some((r=>Qe(e,t,r))))),a=s?vt(e,i.types,n):[];r[t]={_:"relation",id:i.id,name:i.name,types:s?bt(i.types,a):i.types,tuples:s?xt(i.tuples,a,o):i.tuples},s||(r[t]=i)}return r}function vt(e,t,r){const n=[];return t.forEach(((t,o)=>{r.some((r=>Qe(e,t,r)))&&n.push(o)})),n}function xt(e,t,r){return e.filter((e=>e.atoms.some((e=>r.includes(e))))).map((e=>({_:"tuple",types:bt(e.types,t),atoms:bt(e.atoms,t)})))}function bt(e,t){const r=[];for(let n=0;n<e.length;n++)t.includes(n)||r.push(e[n]);return r}function wt(e,t){const r=function(e,t){return e.map((e=>function(e,t){const r=function(e,t){return t?function(e){var t;return(null===(t=e.projections)||void 0===t?void 0:t.map((e=>e.type)))||[]}(t).map((t=>Ke(rt(e,t))[0].id)):[]}(e,t);return function(e,t){const r={};return t.forEach((t=>{const n=(o=Xe(e,t)).types[o.types.length-1];var o;if(r[n])throw new Error(`Cannot project ${t} and ${r[n]}. Both are of type ${n}`);r[n]=t})),{command:e.command,types:mt(e,r),relations:yt(e,r)}}(e,r)}(e,t)))}(e.instances,t),n=r.map((e=>function(e,t){const r=new Set,n=[],o=t?function(e){var t;const r=[];return null===(t=e.nodes)||void 0===t||t.forEach((e=>{var t;!1===e.visible&&(null===(t=e.targets)||void 0===t||t.forEach((e=>{"*"!==e&&r.push(e.type)})))})),r}(t):[];(function(e){return Object.values(e.relations)})(e).forEach((t=>{const i=t.id,s=function(e){return e.tuples}(t);s.forEach((s=>{const a=s.atoms,d=a[0],c=a[a.length-1],l=!o.some((t=>Je(e,d,t))),u=!o.some((t=>Je(e,c,t)));l&&u&&(r.add(d),r.add(c),n.push({id:`${i}:${a.join("->")}`,relation:t.name,source:d,target:c,tuple:s}))}))})),tt(e).forEach((t=>{var n;void 0!==(n=Xe(e,t)).meta&&!0===n.meta.builtin||o.some((r=>Je(e,t,r)))||r.add(t.id)}));const i=[];return r.forEach((t=>{i.push({id:t,atom:et(e,t)})})),{nodes:i,edges:n}}(e,t))),o=u().chain(n.map((e=>e.nodes))).flatten().uniqBy((e=>e.atom.id)).value(),i=u().chain(n.map((e=>e.edges))).flatten().uniqBy((e=>e.id)).value(),{nodes:s,edgePaths:a}=function(e){const t=new(gt().graphlib.Graph)({multigraph:!0});t.setGraph({nodesep:25,ranksep:50,rankdir:"TB"}),e.nodes.forEach((e=>{t.setNode(e.id,{label:e.id,width:100,height:60})})),e.edges.forEach((e=>{t.setEdge(e.source,e.target,{id:e.id})})),gt().layout(t);const{dx:r,dy:n}=function(e,t,r){const n=Math.min(...e.nodes().map((t=>e.node(t).x))),o=Math.min(...e.nodes().map((t=>e.node(t).y)));return{dx:(Math.max(...e.nodes().map((t=>e.node(t).x)))-n)/2+50,dy:(Math.max(...e.nodes().map((t=>e.node(t).y)))-o)/2+30}}(t),o=[],i={};return e.nodes.forEach((e=>{o.push(Object.assign(Object.assign({},e),{x:t.node(e.id).x-r,y:t.node(e.id).y-n}))})),t.edges().forEach((e=>{const o=t.edge(e);i[o.id]=o.points.slice(1,-1).map((e=>({x:e.x-r,y:e.y-n})))})),{nodes:o,edgePaths:i}}({nodes:o,edges:i}),d=u().keyBy(s,(e=>e.id));return n.map((e=>N(e.nodes.map((e=>d[e.id])),e.edges.map((e=>Object.assign(Object.assign({},e),{waypoints:a[e.id]}))))))}const jt=(0,Ve.oM)({name:"graphView",initialState:{byDatumId:{}},reducers:{},extraReducers:e=>{e.addCase(We,((e,t)=>{const{enter:r}=t.payload;r&&r.forEach((t=>{if("alloy"===t.format){const n=t.id,o=wt(t.parsed).map(((e,t)=>function(e,t){const r={},n={},o={},i={},s={},a={};return q(t).forEach((e=>{r[e.id]={shape:"rectangle",width:100,height:60},n[e.id]={stroke:"none",fill:"steelblue"},o[e.id]=[{text:e.atom.id,style:{fill:"white",fontFamily:"monospace",fontWeight:"bold",textAnchor:"middle"},props:{dy:"0.33em"}}]})),T(t).forEach((e=>{i[e.id]={type:"bspline"},s[e.id]={stroke:"#333",fill:"none"},a[e.id]=[{text:e.relation,style:{fill:"#333",fontFamily:"monospace",fontWeight:"bold",textAnchor:"middle"},props:{dy:"0.33em"}}]})),{id:e,graph:t,nodeShapes:r,nodeStyles:n,nodeLabels:o,edgeCurves:i,edgeLabels:a,edgeStyles:s}}(`${t}`,e)));e.byDatumId[n]=(0,B.cA)({id:n,active:(r=o)[0].id,graphs:(0,l.keyBy)(r,(e=>e.id)),graphIds:r.map((e=>e.id))})}var r}))}))}}),{}=jt.actions,Ot=jt.reducer;function St(e){return{type:"message",time:(new Date).toJSON(),text:e}}const Ct=(0,Ve.oM)({name:"log",initialState:{items:[],filters:["message","warning","error"],sort:"ascending"},reducers:{filtersChanged(e,t){e.filters=t.payload},logCleared(e){e.items=[]},sortOrderChanged(e,t){e.sort=t.payload}},extraReducers:e=>{e.addCase(We,((e,t)=>{const{enter:r,update:n,exit:o}=t.payload,i=(null==r?void 0:r.length)||0,s=(null==n?void 0:n.length)||0,a=(null==o?void 0:o.length)||0;e.items.push(St(`Receive data: ${i} enter, ${s} update, ${a} exit.`))})),e.addCase($e,(e=>{e.items.push(St("Request data."))})),e.addCase(Re,((e,t)=>{const{name:r}=t.payload;e.items.push(St(`Receive metadata from ${r}.`))})),e.addCase(Le,(e=>{e.items.push(St("Request provider metadata."))})),e.addCase(Ne,(e=>{e.items.push(St("Connection established."))})),e.addCase(Fe,(e=>{e.items.push(St("Connection lost."))})),e.addCase(He,((e,t)=>{e.items.push(St(t.payload))}))}}),{logCleared:Pt,sortOrderChanged:Dt}=Ct.actions,Et=Ct.reducer,It=(0,Ve.oM)({name:"provider",initialState:{connected:!1,providerName:"unknown provider"},reducers:{},extraReducers:e=>{e.addCase(Re,((e,t)=>{const{name:r}=t.payload;e.providerName=r||"unknown provider"})).addCase(Ne,(e=>{e.connected=!0})).addCase(Fe,(e=>{e.connected=!1}))}}),{}=It.actions,kt=It.reducer;var Mt=r(573);function Vt(e){return"data"===e||"evaluator"===e||"log"===e}const At=e=>e.mainView,$t=e=>e.graphViewDrawer,_t=e=>e.tableViewDrawer,Lt=e=>e.scriptViewDrawer,Wt={selectMainView:At,selectGraphDrawer:$t,selectTableDrawer:_t,selectScriptDrawer:Lt,selectCommonDrawer:(0,Mt.P1)([At,$t,_t,Lt],((e,t,r,n)=>{switch(e){case"GraphView":return Vt(t)?t:null;case"TableView":return Vt(r)?r:null;case"ScriptView":return Vt(n)?n:null}return null})),selectDrawerIsCollapsed:(0,Mt.P1)([At,$t,_t,Lt],((e,t,r,n)=>{switch(e){case"GraphView":return null===t;case"TableView":return null===r;case"ScriptView":return null===n;default:return!0}}))},Bt={mainView:"GraphView",graphViewDrawer:"log",tableViewDrawer:"log",scriptViewDrawer:"log"};const Rt=(0,Ve.oM)({name:"ui-base",initialState:Bt,reducers:{mainViewChanged(e,t){e.mainView=t.payload},commonDrawerViewChanged(e,t){const r=t.payload;switch(e.mainView){case"GraphView":e.graphViewDrawer=r===e.graphViewDrawer?null:r;break;case"TableView":e.tableViewDrawer=r===e.tableViewDrawer?null:r;break;case"ScriptView":e.scriptViewDrawer=r===e.scriptViewDrawer?null:r}},graphDrawerViewChanged(e,t){const r=t.payload;e.graphViewDrawer=r===e.graphViewDrawer?null:r},tableDrawerViewChanged(e,t){const r=t.payload;e.tableViewDrawer=r===e.tableViewDrawer?null:r},scriptDrawerViewChanged(e,t){const r=t.payload;e.scriptViewDrawer=r===e.scriptViewDrawer?null:r}}}),{mainViewChanged:qt,commonDrawerViewChanged:Tt,graphDrawerViewChanged:Nt,tableDrawerViewChanged:Ht,scriptDrawerViewChanged:Ft}=Rt.actions,zt=Rt.reducer,Zt=(0,Ve.xC)({reducer:{data:ht,graphView:Ot,log:Et,provider:kt,ui:zt},middleware:e=>e().prepend(function(){let e=null,t=0;const r=()=>{window.clearInterval(t),t=0},n=()=>{e&&e.close()},o=()=>{e&&e.send("ping")},i=(s,a)=>{const d=s.dispatch;let c=!1;e&&n(),a=a||`ws://localhost:${window.location.search.slice(1)}`,e=new WebSocket(a),e.onopen=()=>{c=!0,window.setTimeout((()=>o()),3e3),d(Ne()),r()},e.onclose=()=>{c&&(c=!1,d(Fe())),e&&e.readyState===WebSocket.CLOSED&&(r(),t=window.setInterval((()=>i(s,a)),1e3))},e.onmessage=e=>{"pong"===e.data?window.setTimeout((()=>o()),3e3):st(e.data,s)}};return t=>r=>o=>(qe.match(o)?i(t,o.payload):Te.match(o)?n():Ae.match(o)?function(e,t,r){if(!e)return at(t);dt(e,function(e,t){return{type:"click",version:1,payload:t}}(0,r))}(e,t,o.payload):$e.match(o)?function(e,t){if(!e)return at(t);dt(e,{type:"data",version:1})}(e,t):_e.match(o)?function(e,t,r){if(!e)return at(t);dt(e,function(e,t){return{type:"eval",version:1,payload:t}}(0,r))}(e,t,o.payload):Le.match(o)&&function(e,t){if(!e)return at(t);dt(e,{type:"meta",version:1})}(e,t),r(o))}(),(e=>t=>r=>{if(!Ne.match(r))return t(r);t(r),e.dispatch(Le()),e.dispatch($e())}))}),Gt=e=>(e=>e.activeDatumIds)(e.data),Jt=e=>(e=>e.datumIds)(e.data),Xt=e=>Gt(e).map((t=>((e,t)=>{const{active:r,graphs:n}=e.byDatumId[t];return n[r]})(e.graphView,t))),Ut=e=>(e=>e.items)(e.log),Yt=e=>(e=>e.connected)(e.provider),Kt=e=>(e=>e.providerName)(e.provider),Qt=e=>Wt.selectMainView(e.ui),er=e=>Wt.selectCommonDrawer(e.ui),tr=e=>Wt.selectDrawerIsCollapsed(e.ui),rr=e=>Wt.selectGraphDrawer(e.ui),nr=e=>Wt.selectTableDrawer(e.ui),or=e=>Wt.selectScriptDrawer(e.ui),ir=()=>{const e=lt(Ut);return(0,n.jsx)(v,Object.assign({h:"full",px:2,py:1,overflowY:"auto"},{children:e.map(((e,t)=>(0,n.jsx)(_,{text:e.text,time:new Date(e.time),variant:e.type},t)))}),void 0)},sr=()=>{const e=lt(er);return(0,n.jsx)(y,{children:"log"===e&&(0,n.jsx)(ir,{},void 0)},void 0)},ar=()=>(0,n.jsxs)(w,{children:[(0,n.jsx)(b,{},void 0),(0,n.jsx)(c.iz,{orientation:"vertical",mx:2},void 0),(0,n.jsx)(c.LZ,{},void 0)]},void 0);var dr=r(6653),cr=r(5434),lr=r(155);const ur=()=>{const e=ct(),t=lt(Qt),r=lt(rr);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(E,{text:"Theme",rightIcon:(0,n.jsx)(cr.CZl,{},void 0),isActive:"GraphView"===t&&"theme"===r,onClick:()=>e(Nt("theme"))},void 0),(0,n.jsx)(E,{text:"Layout",rightIcon:(0,n.jsx)(cr.df2,{},void 0),isActive:"GraphView"===t&&"layout"===r,onClick:()=>e(Nt("layout"))},void 0),(0,n.jsx)(E,{text:"Settings",rightIcon:(0,n.jsx)(lr.Fuo,{},void 0),isActive:"GraphView"===t&&"settings"===r,onClick:()=>e(Nt("settings"))},void 0)]},void 0)},pr=()=>{const e=ct(),t=lt(Qt),r=lt(or);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(E,{text:"Settings",rightIcon:(0,n.jsx)(lr.Fuo,{},void 0),isActive:"ScriptView"===t&&"settings"===r,onClick:()=>e(Ft("settings"))},void 0)},void 0)},hr=()=>{const e=ct(),t=lt(Qt),r=lt(nr);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(E,{text:"Settings",rightIcon:(0,n.jsx)(lr.Fuo,{},void 0),isActive:"TableView"===t&&"settings"===r,onClick:()=>e(Ht("settings"))},void 0)},void 0)},fr=()=>{const e=ct(),t=lt(Qt),r=lt(er);return(0,n.jsxs)(C,{children:["GraphView"===t&&(0,n.jsx)(ur,{},void 0),"TableView"===t&&(0,n.jsx)(hr,{},void 0),"ScriptView"===t&&(0,n.jsx)(pr,{},void 0),(0,n.jsx)(c.LZ,{},void 0),(0,n.jsx)(E,{text:"Evaluator",rightIcon:(0,n.jsx)(dr.RJr,{},void 0),isActive:"evaluator"===r,onClick:()=>e(Tt("evaluator"))},void 0),(0,n.jsx)(E,{text:"Log",rightIcon:(0,n.jsx)(cr.hKf,{},void 0),isActive:"log"===r,onClick:()=>e(Tt("log"))},void 0)]},void 0)},gr=()=>(0,n.jsx)(c.xu,Object.assign({position:"absolute",top:"12px",left:"50%",transform:"translate(-50%)",width:"350px",height:"50px",backgroundColor:"white",shadow:"base",borderRadius:"base",border:"1px",borderColor:"gray.400",bg:"white"},{children:(0,n.jsx)(Me,{numStates:5,loopBack:3,selectedIndices:[0],onSelectedIndicesDidChange:()=>{}},void 0)}),void 0),mr=()=>{const e=lt(Xt);return(0,n.jsx)(M,{children:e.map((e=>{const{id:t,graph:r,nodeShapes:o,nodeStyles:i,nodeLabels:s,edgeCurves:a,edgeLabels:d,edgeStyles:c}=e;return(0,n.jsx)(Se,Object.assign({style:{width:"100%",height:"100%",overflow:"hidden"}},{children:(0,n.jsx)(Oe,{id:t,graph:r,nodeShapes:o,nodeLabels:s,nodeStyles:i,edgeCurves:a,edgeLabels:d,edgeStyles:c},void 0)}),t)}))},void 0)},yr=()=>(0,n.jsx)(M,{children:"Script View"},void 0),vr=()=>(0,n.jsx)(M,{children:"Table View"},void 0),xr=()=>{const e=lt(Qt);return(0,n.jsxs)(y,{children:["GraphView"===e&&(0,n.jsx)(mr,{},void 0),"TableView"===e&&(0,n.jsx)(vr,{},void 0),"ScriptView"===e&&(0,n.jsx)(yr,{},void 0),(0,n.jsx)(gr,{},void 0)]},void 0)};var br=r(5707),wr=r(894);const jr=e=>{const{isConnected:t}=e,r=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["isConnected"]),o=t?"green.500":"red.500";return(0,n.jsx)(wr.JO,Object.assign({as:dr.DcD,color:o},r),void 0)},Or=e=>{const t=lt(Yt),r=lt(Kt),o=t?`Connected to ${r}`:"Not connected to a provider",i=t?"Connected":"Disconnected";return(0,n.jsx)(br.u,Object.assign({hasArrow:!0,label:o},{children:(0,n.jsxs)(c.M5,Object.assign({},e,{children:[(0,n.jsx)(jr,{isConnected:t},void 0),(0,n.jsx)(c.xv,Object.assign({mx:1,userSelect:"none"},{children:i}),void 0)]}),void 0)}),void 0)},Sr=()=>(0,n.jsxs)(I,{children:[(0,n.jsx)(c.LZ,{},void 0),(0,n.jsx)(c.iz,{orientation:"vertical",mx:2},void 0),(0,n.jsx)(Or,{},void 0)]},void 0),Cr={layout:{drawerWidth:350,drawerMinWidth:100,drawerMaxWidth:600,explorerWidth:200,explorerMinWidth:60,explorerMaxWidth:250}};var Pr=r(9583);const Dr=()=>(0,n.jsx)(c.oM,Object.assign({ratio:4/3},{children:(0,n.jsx)(Se,{style:{width:"100%",height:"100%"}},void 0)}),void 0),Er=({active:e,onClick:t})=>(0,n.jsxs)(c.xu,Object.assign({position:"relative",flex:"0 1 auto",mx:2,my:1,border:"1px",borderColor:e?"blue.400":"gray.200",borderRadius:"0",onClick:t,_first:{mt:2},_hover:{borderColor:"gray.400",cursor:"pointer",shadow:"base"},_active:{borderColor:"gray.300",shadow:"sm"}},{children:[(0,n.jsx)(Dr,{},void 0),(0,n.jsx)(c.xu,Object.assign({position:"absolute",bottom:"0",right:"0",left:"0",display:"flex",justifyContent:"flex-end",bg:e?"blue.100":"gray.50",opacity:.95,px:2,py:1},{children:(0,n.jsx)(wr.JO,{as:Pr.rHK},void 0)}),void 0)]}),void 0),Ir=()=>{const e=ct(),t=lt(Jt).slice().reverse(),r=lt(Gt);return(0,n.jsxs)(y,{children:[(0,n.jsx)(O,{children:(0,n.jsx)(S,{children:"Explorer"},void 0)},void 0),(0,n.jsx)(c.xu,Object.assign({position:"absolute",top:"30px",right:"0",bottom:"0",left:"0",display:"flex",flexDir:"column",overflowX:"hidden",overflowY:"auto"},{children:t.map(((t,o)=>{const i=r.includes(t);return(0,n.jsx)(Er,{active:i,onClick:()=>{e(pt([t]))}},o)}))}),void 0)]},void 0)};i.render((0,n.jsx)(o.StrictMode,{children:(0,n.jsx)(a.xjn,Object.assign({theme:V},{children:(0,n.jsx)(s.zt,Object.assign({store:Zt},{children:(0,n.jsx)((e=>{const{url:t}=e,{layout:r}=Cr,i=ct(),s=lt(tr);return(0,o.useEffect)((()=>(i(qe(t)),()=>{i(Te())})),[t,i]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(f,Object.assign({leftPaneCollapsed:!1,leftPaneInitialWidth:r.explorerWidth,leftPaneMinWidth:r.explorerMinWidth,leftPaneMaxWidth:r.explorerMaxWidth,rightPaneCollapsed:s,rightPaneInitialWidth:r.drawerWidth,rightPaneMinWidth:r.drawerMinWidth,rightPaneMaxWidth:r.drawerMaxWidth},{children:[(0,n.jsx)(Ir,{},void 0),(0,n.jsx)(xr,{},void 0),(0,n.jsx)(sr,{},void 0)]}),void 0),(0,n.jsx)(fr,{},void 0),(0,n.jsx)(ar,{},void 0),(0,n.jsx)(Sr,{},void 0)]},void 0)}),{url:void 0},void 0)}),void 0)}),void 0)},void 0),document.getElementById("root"))}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={id:e,loaded:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=t,e=[],n.O=(t,r,o,i)=>{if(!r){var s=1/0;for(l=0;l<e.length;l++){for(var[r,o,i]=e[l],a=!0,d=0;d<r.length;d++)(!1&i||s>=i)&&Object.keys(n.O).every((e=>n.O[e](r[d])))?r.splice(d--,1):(a=!1,i<s&&(s=i));if(a){e.splice(l--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[r,o,i]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="./",(()=>{n.b=document.baseURI||self.location.href;var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,i,[s,a,d]=r,c=0;if(s.some((t=>0!==e[t]))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(d)var l=d(n)}for(t&&t(r);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[s[c]]=0;return n.O(l)},r=self.webpackChunksterling_ts=self.webpackChunksterling_ts||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var o=n.O(void 0,[347],(()=>n(9083)));o=n.O(o)})();